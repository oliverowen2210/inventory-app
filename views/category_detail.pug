extends layout_detail

block header
   div(style="flex: 1")
   div
      h2.contentHeaderText #{category.name}
      div(style="display: flex; justify-content: center")
         img(style="width: auto; height: auto; max-width:200px; max-height:200px;", src=category.imageURL, onerror="this.src = '/images/default.png'; this.onerror=''")
      p.contentDescription #{category.description}
   div(style="flex: 1; display: flex; height: 200px")
      div(style="width:28px")
      div(style="flex: 1; display: flex; flex-direction: column; justify-content: center; gap: 16px")
         a(style="text-decoration: none;", href="/item/new")
            button.contentHeaderButton Add new item

block grid
   each item in items 
      div.card
         a.cardDetailLink(href=item.URL)
            if (item.imageURL)
               div.cardImageWrapper
                  img.cardImage(src=item.imageURL)
            div.cardInfo
               h3 #{item.name} â€¢ $#{item.price}
               p(style="flex-grow: 1") #{item.description}
               h3 #{item.count} available
         div.cardButtons
            a(href=item.URL+"/update")
               button(style="width: 120px") Update
            a(href=item.URL+"/delete")
               button(style="width: 120px; background-color: red") Delete
   else 
      p(style="font-size: 18px; font-weight: bold; grid-column: 1 / 3") No items have been added to this category.